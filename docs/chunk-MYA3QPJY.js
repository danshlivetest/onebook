import{A as ze,B as Ge,d as Ae,h as Oe,i as W,j as Re,k as U,l as H,m as V,n as z,o as Pe,p as G,q as Le,r as D,t as je,u as q,v as Ne,w as We,x as Ue,y as He,z as Ve}from"./chunk-K6IGSZ44.js";import{$a as T,Ab as ye,Bb as we,Da as fe,Db as Ce,Eb as Be,Fb as Se,H as w,Ib as xe,J as se,Jb as f,Kb as k,Lb as L,Mb as Me,Nb as u,Ob as Ie,Pb as Te,Qa as s,Qb as De,Ra as h,Rb as Ee,X as F,Y as ce,_ as le,a as E,aa as A,ac as j,b as ae,bb as he,da as m,db as ge,ea as de,f as y,ga as pe,gb as C,jb as B,kb as c,lb as O,mb as ve,mc as Fe,nb as ke,nc as N,oa as te,ob as R,pa as me,qb as be,rb as _e,sb as n,tb as a,ub as l,vb as P,xa as ue,yb as v,zb as b}from"./chunk-2TBYGMDO.js";var K=class t{constructor(o,e){this.dialogRef=o;this.data=e;this.ButtonType=W}get title(){return this.bookForm.controls.title}get author(){return this.bookForm.controls.author}get year(){return this.bookForm.controls.year}get description(){return this.bookForm.controls.description}ngOnInit(){this.setData(),this.initForm()}close(o){this.dialogRef.close(o)}save(){if(this.bookForm.invalid){this.markAllAsTouched();return}this.close(this.bookForm.value)}setData(){this.header=this.data.header,this.book=this.data.book}initForm(){this.bookForm=new Le({title:new D(this.book?.title||"",[G.required]),author:new D(this.book?.author||"",[G.required]),year:new D(this.book?.year||new Date().getFullYear(),[G.required]),description:new D(this.book?.description||"")})}markAllAsTouched(){Object.values(this.bookForm.controls).forEach(o=>{o.markAsDirty(),o.markAsTouched(),o.updateValueAndValidity()})}static{this.\u0275fac=function(e){return new(e||t)(h(H),h(V))}}static{this.\u0275cmp=m({type:t,selectors:[["app-edit-book-modal"]],standalone:!0,features:[u],decls:12,vars:5,consts:[[3,"whenClose"],[1,"overflow-hidden"],["label","Title","placeholder","Enter the title of your book",3,"control"],[1,"my-1","md:grid","grid-cols-2","gap-2","max-w-full"],[1,"w-full"],["label","Author","placeholder","Enter the author of the book",3,"control"],["label","Year","type","number","placeholder","Any realese date?",3,"control"],[1,"w-full","max-full"],["label","Description","placeholder","Write down some book description",3,"control"],["cancelText","Cancel","confirmText","Save",3,"whenCancel","whenConfirm"]],template:function(e,r){e&1&&(n(0,"app-modal-header",0),v("whenClose",function(){return r.close()}),f(1),a(),n(2,"mat-dialog-content",1),l(3,"app-form-input",2),n(4,"div",3)(5,"div",4),l(6,"app-form-input",5),a(),n(7,"div",4),l(8,"app-form-input",6),a()(),n(9,"div",7),l(10,"app-form-textarea",8),a()(),n(11,"app-modal-footer",9),v("whenCancel",function(){return r.close()})("whenConfirm",function(){return r.save()}),a()),e&2&&(s(),k(r.header),s(2),c("control",r.title),s(3),c("control",r.author),s(2),c("control",r.year),s(2),c("control",r.description))},dependencies:[z,U,Pe,We,Ue],encapsulation:2})}};function Ze(t,o){if(t&1&&(n(0,"div",2)(1,"i"),f(2),a()()),t&2){let e=b();s(2),k(e.book.description)}}var $=class t{constructor(o,e){this.dialogRef=o;this.data=e}get book(){return this.data.book||{}}close(){this.dialogRef.close()}static{this.\u0275fac=function(e){return new(e||t)(h(H),h(V))}}static{this.\u0275cmp=m({type:t,selectors:[["app-book-info-modal"]],standalone:!0,features:[u],decls:9,vars:4,consts:[[3,"whenClose"],[1,"w-full","flex","items-center","gap-2"],[1,"w-full","max-h-[200px]","overflow-auto","custom-scrollbar","mt-4"]],template:function(e,r){e&1&&(n(0,"app-modal-header",0),v("whenClose",function(){return r.close()}),f(1),a(),n(2,"mat-dialog-content")(3,"div",1)(4,"p"),f(5),a(),n(6,"p"),f(7),a()(),C(8,Ze,3,1,"div",2),a()),e&2&&(s(),k(r.book.title),s(4),k(r.book.author),s(2),L("(",r.book.year,")"),s(),R(r.book.description?8:-1))},dependencies:[U,z],encapsulation:2})}};var x=class t{constructor(o){this.modalService=o}openEditBookModal(o){return this.modalService.openModal(K,{data:{header:o?"Edit book info":"Add new book",book:o}})}openBookInfoModal(o){return this.modalService.openModal($,{disableClose:!1,data:{book:o}})}confirmDeleteBook(){return this.modalService.openConfirmModal({header:"Book deletion",text:"Are you sure you want to delete this book?",cancelText:"Keep it",confirmText:"Delete"})}static{this.\u0275fac=function(e){return new(e||t)(A(je))}}static{this.\u0275prov=F({token:t,factory:t.\u0275fac})}};var d=[];for(let t=0;t<256;++t)d.push((t+256).toString(16).slice(1));function Ke(t,o=0){return(d[t[o+0]]+d[t[o+1]]+d[t[o+2]]+d[t[o+3]]+"-"+d[t[o+4]]+d[t[o+5]]+"-"+d[t[o+6]]+d[t[o+7]]+"-"+d[t[o+8]]+d[t[o+9]]+"-"+d[t[o+10]]+d[t[o+11]]+d[t[o+12]]+d[t[o+13]]+d[t[o+14]]+d[t[o+15]]).toLowerCase()}var oe,et=new Uint8Array(16);function re(){if(!oe){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");oe=crypto.getRandomValues.bind(crypto)}return oe(et)}var tt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ie={randomUUID:tt};function ot(t,o,e){if(ie.randomUUID&&!o&&!t)return ie.randomUUID();t=t||{};let r=t.random??t.rng?.()??re();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,o){if(e=e||0,e<0||e+16>o.length)throw new RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let i=0;i<16;++i)o[e+i]=r[i];return o}return Ke(r)}var _=ot;var M="books",rt=[{id:_(),title:"The Great Gatsby",author:"F. Scott Fitzgerald",year:1925,description:"The story primarily concerns the young and mysterious millionaire Jay Gatsby and his quixotic passion and obsession with the beautiful former debutante Daisy Buchanan."},{id:_(),title:"To Kill a Mockingbird",author:"Harper Lee",year:1960,description:'The story takes place during three years of the Great Depression in the fictional "tired old town" of Maycomb, Alabama.'},{id:_(),title:"1984",author:"George Orwell",year:1949,description:"The story takes place in an imagined future, the year 1984, when much of the world has fallen victim to perpetual war, omnipresent government surveillance, historical negationism, and propaganda."},{id:_(),title:"The Catcher in the Rye",author:"J.D. Salinger",year:1951,description:"The novel details two days in the life of 16-year-old Holden Caulfield after he has been expelled from prep school."},{id:_(),title:"The Lord of the Rings",author:"J.R.R. Tolkien",year:1954,description:"The Lord of the Rings is an epic high-fantasy novel written by English author and scholar J.R.R. Tolkien. The story began as a sequel to Tolkien's 1937 children's book The Hobbit, but eventually developed into a much larger work. Written in stages between 1937 and 1949, The Lord of the Rings is one of the best-selling novels ever written, with over 150 million copies sold. The novel is set in the fictional world of Middle-earth and follows the quest to destroy the One Ring, which was created by the Dark Lord Sauron to control the other Rings of Power and conquer Middle-earth. The story is divided into three volumes: The Fellowship of the Ring, The Two Towers, and The Return of the King. It features a diverse cast of characters, including hobbits, elves, dwarves, men, and wizards, who form the Fellowship of the Ring to undertake the perilous journey to Mount Doom, where the One Ring can be destroyed. The Lord of the Rings explores themes of friendship, bravery, and the struggle between good and evil. It has been adapted into various media, including a highly successful film trilogy directed by Peter Jackson."}],I=class t{constructor(o){this.storageService=o}initialBookInsert(){(this.storageService.get(M)||[]).length||this.storageService.put(M,rt)}getBooks(){return new y(o=>{let e=this.storageService.get(M)||[];o.next(e),o.complete()}).pipe(w(1e3))}getBookById(o){return new y(e=>{if(!o){e.error(),e.complete();return}this.getBooks().subscribe(r=>{let i=r.find(p=>p.id===o)||null;e.next(i),e.complete()})}).pipe(w(1e3))}addBook(o){return new y(e=>{o||(e.error(),e.complete());let r=ae(E({},o),{id:this.getNewId()});this.getBooks().subscribe(i=>{this.storageService.put(M,[...i,r]),e.next(r),e.complete()})}).pipe(w(1e3))}updateBook(o){return new y(e=>{o||(e.error(),e.complete()),this.getBooks().subscribe(r=>{let i=r.map(p=>p.id===o.id?o:p);this.storageService.put(M,i),e.next(o),e.complete()})}).pipe(w(1e3))}deleteBook(o){return new y(e=>{o||(e.error(),e.complete()),this.getBooks().subscribe(r=>{let i=r.filter(p=>p.id!==o);this.storageService.put(M,i),e.next(),e.complete()})}).pipe(w(1e3))}getNewId(){return _()}static{this.\u0275fac=function(e){return new(e||t)(A(Ne))}}static{this.\u0275prov=F({token:t,factory:t.\u0275fac})}};var nt=["determinateSpinner"];function at(t,o){if(t&1&&(te(),n(0,"svg",11),l(1,"circle",12),a()),t&2){let e=b();B("viewBox",e._viewBox()),s(),O("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),B("r",e._circleRadius())}}var st=new le("mat-progress-spinner-default-options",{providedIn:"root",factory:ct});function ct(){return{diameter:$e}}var $e=100,lt=10,Je=(()=>{class t{get color(){return this._color||this._defaultColor}set color(e){this._color=e}constructor(e,r,i){this._elementRef=e,this._defaultColor="primary",this._value=0,this._diameter=$e,this._noopAnimations=r==="NoopAnimations"&&!!i&&!i._forceAnimations,this.mode=e.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",i&&(i.color&&(this.color=this._defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_circleRadius(){return(this.diameter-lt)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static{this.\u0275fac=function(r){return new(r||t)(h(ue),h(fe,8),h(st))}}static{this.\u0275cmp=m({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,i){if(r&1&&Ce(nt,5),r&2){let p;Be(p=Se())&&(i._determinateCircle=p.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,i){r&2&&(B("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",i.mode==="determinate"?i.value:null)("mode",i.mode),ke("mat-"+i.color),O("width",i.diameter,"px")("height",i.diameter,"px")("--mdc-circular-progress-size",i.diameter+"px")("--mdc-circular-progress-active-indicator-width",i.diameter+"px"),ve("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate",i.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",j],diameter:[2,"diameter","diameter",j],strokeWidth:[2,"strokeWidth","strokeWidth",j]},exportAs:["matProgressSpinner"],standalone:!0,features:[ge,u],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,i){if(r&1&&(C(0,at,2,8,"ng-template",null,0,Ee),n(2,"div",2,1),te(),n(4,"svg",3),l(5,"circle",4),a()(),me(),n(6,"div",5)(7,"div",6)(8,"div",7),P(9,8),a(),n(10,"div",9),P(11,8),a(),n(12,"div",10),P(13,8),a()()()),r&2){let p=xe(1);s(4),B("viewBox",i._viewBox()),s(),O("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),B("r",i._circleRadius()),s(4),c("ngTemplateOutlet",p),s(2),c("ngTemplateOutlet",p),s(2),c("ngTemplateOutlet",p)}},dependencies:[Fe],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-app-primary))}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}}return t})();var Ye=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=de({type:t})}static{this.\u0275inj=ce({imports:[N,Ae]})}}return t})();var pt=["*"];function mt(t,o){if(t&1&&(n(0,"div",1),l(1,"mat-spinner",2),a()),t&2){let e=b();s(),c("diameter",e.diameter)}}var J=class t{constructor(){this.isLoading=!1;this.diameter=30}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=m({type:t,selectors:[["app-loading-spinner"]],inputs:{isLoading:"isLoading",diameter:"diameter"},standalone:!0,features:[u],ngContentSelectors:pt,decls:3,vars:1,consts:[[1,"relative"],[1,"absolute","inset-0","z-10","w-full","h-full","flex","items-center","justify-center","bg-sky-100","bg-opacity-30","rounded-lg"],[3,"diameter"]],template:function(e,r){e&1&&(ye(),n(0,"div",0),we(1),C(2,mt,2,1,"div",1),a()),e&2&&(s(2),R(r.isLoading?2:-1))},dependencies:[Ye,Je],encapsulation:2})}};var Y=class{constructor(){this.counter=T(0)}get isPending(){return this.counter()>0}wait(o){let e=this.counter()+1;return this.counter.set(e),o.pipe(se(()=>{let r=this.counter()-1;this.counter.set(r)}))}};var Q=class t{constructor(){this.actions=[];this.moreIcon="more_vert"}viewDetails(){this.actions.length&&this.actions[0].whenClicked(this.book)}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=m({type:t,selectors:[["app-book-card"]],inputs:{book:"book",actions:"actions"},standalone:!0,features:[u],decls:13,vars:7,consts:[[1,"w-full","md:w-[212px]","h-[260px]","p-4","rounded-lg","cursor-pointer","border","border-primary/50","hover:border-primary","shadow-sm","hover:shadow-md","transition-all","flex","flex-col","justify-between",3,"click"],[3,"message"],[1,"text-primary","line-clamp-2"],[1,"flex","items-center","gap-1","text-gray-600"],[1,"flex","w-full","justify-end"],[3,"actions","entity"],[3,"icon"]],template:function(e,r){e&1&&(n(0,"div",0),v("click",function(){return r.viewDetails()}),n(1,"div")(2,"app-tooltip",1)(3,"h5",2),f(4),a()(),n(5,"div",3)(6,"span"),f(7),a(),n(8,"span"),f(9),a()()(),n(10,"div",4)(11,"app-popover-actions",5),l(12,"app-icon-button",6),a()()()),e&2&&(s(2),c("message",r.book.title),s(2),k(r.book.title),s(3),k(r.book.author),s(2),L("(",r.book.year,")"),s(2),c("actions",r.actions)("entity",r.book),s(),c("icon",r.moreIcon))},dependencies:[He,Ve,ze],encapsulation:2})}};var X=class t{transform(o,e,r){let i=Array.isArray(r)?r:[r];return o.filter(p=>i.some(Qe=>String(p[Qe]).toLowerCase().includes(e.toLowerCase())))}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275pipe=pe({name:"filter",type:t,pure:!0,standalone:!0})}};var ft=(t,o)=>o.id,ht=()=>["title","author"];function gt(t,o){if(t&1&&l(0,"app-book-card",6),t&2){let e=o.$implicit,r=b();c("book",e)("actions",r.popoverActions)}}var Z=class t extends Y{constructor(e,r,i){super();this.bookModalsService=e;this.subsriptions=r;this.bookStorageService=i;this.IconColor=Oe;this.addIcon="add";this.search=T("");this.books=T([]);this.popoverActions=[]}ngOnInit(){this.bookStorageService.initialBookInsert(),this.preparePopoverActions(),this.fetchBooks()}addNewBook(){this.subsriptions.add(this.bookModalsService.openEditBookModal().subscribe(e=>{e&&this.saveNewBook(e)}))}preparePopoverActions(){this.popoverActions=[{label:"Open details",whenClicked:this.openDetails.bind(this)},{label:"Edit",whenClicked:this.editBook.bind(this)},{label:"Delete",color:"red",whenClicked:this.deleteBook.bind(this)}]}openDetails(e){this.subsriptions.add(this.bookModalsService.openBookInfoModal(e).subscribe())}editBook(e){this.subsriptions.add(this.bookModalsService.openEditBookModal(e).subscribe(r=>{if(!r)return;let i=E({id:e.id},r);this.updateBook(i)}))}deleteBook(e){this.subsriptions.add(this.bookModalsService.confirmDeleteBook().subscribe(r=>{r&&this.proceedDeletion(e.id)}))}fetchBooks(){this.subsriptions.add(this.wait(this.bookStorageService.getBooks()).subscribe(e=>{this.books.set(e)}))}saveNewBook(e){this.subsriptions.add(this.wait(this.bookStorageService.addBook(e)).subscribe({next:r=>{this.books.set([...this.books(),r])},error:()=>{console.error("Error saving book")}}))}updateBook(e){this.subsriptions.add(this.wait(this.bookStorageService.updateBook(e)).subscribe({next:()=>{this.fetchBooks()},error:()=>{console.error("Error updating book")}}))}proceedDeletion(e){this.subsriptions.add(this.wait(this.bookStorageService.deleteBook(e)).subscribe({next:()=>{this.fetchBooks()},error:()=>{console.error("Error deleting book")}}))}static{this.\u0275fac=function(r){return new(r||t)(h(x),h(q),h(I))}}static{this.\u0275cmp=m({type:t,selectors:[["app-book-list"]],standalone:!0,features:[Me([x,q,I]),he,u],decls:10,vars:8,consts:[[3,"isLoading"],[1,"w-full","flex","justify-end","mb-2"],[3,"search"],[1,"flex","flex-col","md:flex-row","md:flex-wrap","items-center","gap-4","transition-all"],[1,"w-full","md:w-[212px]","h-[260px]","rounded-lg","border","border-dashed","border-primary/50","hover:border-primary","cursor-pointer","flex","items-center","justify-center","transition-all",3,"click"],[3,"prefixIcon"],[1,"w-full","md:w-[212px]","transition-all",3,"book","actions"]],template:function(r,i){r&1&&(n(0,"app-loading-spinner",0)(1,"div",1),l(2,"app-search",2),a(),n(3,"div",3)(4,"div",4),v("click",function(){return i.addNewBook()}),n(5,"app-button",5),f(6,"Add new"),a()(),be(7,gt,1,2,"app-book-card",6,ft),Te(9,"filter"),a()()),r&2&&(c("isLoading",i.isPending),s(2),c("search",i.search),s(3),c("prefixIcon",i.addIcon),s(2),_e(De(9,3,i.books(),i.search(),Ie(7,ht))))},dependencies:[N,Re,J,Q,Ge,X],encapsulation:2})}};var ee=class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=m({type:t,selectors:[["app-header"]],standalone:!0,features:[u],decls:3,vars:0,consts:[[1,"sticky","z-10","top-0","min-h-10","p-4","border-b-1","border-neutral-300","shadow-lg","flex","items-center","justify-between","bg-sky-100"],[1,"text-primary"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"h2",1),f(2,"OneBook"),a()())},encapsulation:2})}};var ne=class t{constructor(){this.ButtonType=W}static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275cmp=m({type:t,selectors:[["app-home"]],standalone:!0,features:[u],decls:4,vars:0,consts:[[1,"w-full","h-full","relative","custom-scrollbar","overflow-auto"],[1,"p-8"]],template:function(e,r){e&1&&(n(0,"div",0),l(1,"app-header"),n(2,"div",1),l(3,"app-book-list"),a()())},dependencies:[ee,Z],encapsulation:2})}};export{ne as default};
